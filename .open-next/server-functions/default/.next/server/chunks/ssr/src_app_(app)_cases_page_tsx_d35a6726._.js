module.exports=[50402,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(30118),e=a.i(91119),f=a.i(99570),g=a.i(86304),h=a.i(6015),i=a.i(14574),j=a.i(80701),k=a.i(96221);let l=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var m=a.i(38246),n=a.i(50944),o=a.i(56711),p=a.i(35249);let q={Draft:"secondary",Scheduled:"default","Gaps Found":"destructive","All Clear":"default",Remediated:"default",Closed:"secondary"};function r({status:a}){let c=q[a]??"secondary";return(0,b.jsx)(g.Badge,{variant:c,className:"Scheduled"===a?"bg-blue-500/90 text-white border-blue-600":"All Clear"===a||"Remediated"===a?"bg-green-600 text-white border-green-700":void 0,children:a})}function s(){let a=(0,n.useRouter)(),{sortConfig:g,onSort:q,sortData:s}=(0,p.useSort)(),{data:t,isLoading:u}=(0,d.useCases)(),{data:v}=(0,d.useEmployees)(),w=(0,d.useCreateCaseFromEmployee)(),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)("");return u?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)(k.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Offboarding Cases"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Manage access review and remediation cases"})]}),(0,b.jsxs)(f.Button,{onClick:()=>y(!0),children:[(0,b.jsx)(l,{className:"mr-2 h-4 w-4"}),"New Case"]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{className:"text-base",children:"All Cases"})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)(h.Table,{children:[(0,b.jsx)(h.TableHeader,{children:(0,b.jsxs)(h.TableRow,{children:[(0,b.jsx)(p.SortableTableHead,{column:"name",label:"Case ID",sortConfig:g,onSort:q}),(0,b.jsx)(p.SortableTableHead,{column:"employee_name",label:"Employee",sortConfig:g,onSort:q}),(0,b.jsx)(p.SortableTableHead,{column:"primary_email",label:"Email",sortConfig:g,onSort:q}),(0,b.jsx)(p.SortableTableHead,{column:"event_type",label:"Event Type",sortConfig:g,onSort:q}),(0,b.jsx)(p.SortableTableHead,{column:"status",label:"Status",sortConfig:g,onSort:q}),(0,b.jsx)(p.SortableTableHead,{column:"effective_date",label:"Effective Date",sortConfig:g,onSort:q}),(0,b.jsx)(p.SortableTableHead,{column:"scheduled_remediation_date",label:"Scheduled Remediation",sortConfig:g,onSort:q})]})}),(0,b.jsx)(h.TableBody,{children:(t?s(t):[]).map(c=>(0,b.jsxs)(h.TableRow,{className:"cursor-pointer",onClick:()=>a.push(`/cases/${c.name}`),children:[(0,b.jsx)(h.TableCell,{className:"font-medium",children:(0,b.jsx)(m.default,{href:`/cases/${c.name}`,className:"text-primary hover:underline",onClick:a=>a.stopPropagation(),children:c.name})}),(0,b.jsx)(h.TableCell,{children:(0,b.jsx)(m.default,{href:`/employees?employee=${encodeURIComponent(c.employee)}`,className:"text-primary hover:underline",onClick:a=>a.stopPropagation(),children:c.employee_name})}),(0,b.jsx)(h.TableCell,{children:(0,b.jsx)(m.default,{href:`/employees?email=${encodeURIComponent(c.primary_email)}`,className:"text-primary hover:underline",onClick:a=>a.stopPropagation(),children:c.primary_email})}),(0,b.jsx)(h.TableCell,{children:c.event_type}),(0,b.jsx)(h.TableCell,{children:(0,b.jsx)(r,{status:c.status})}),(0,b.jsx)(h.TableCell,{children:c.effective_date?(0,o.format)(new Date(c.effective_date),"PP"):"-"}),(0,b.jsx)(h.TableCell,{children:c.scheduled_remediation_date?(0,o.format)(new Date(c.scheduled_remediation_date),"PP"):"-"})]},c.name))})]})})]}),(0,b.jsx)(i.Dialog,{open:x,onOpenChange:y,children:(0,b.jsxs)(i.DialogContent,{children:[(0,b.jsx)(i.DialogHeader,{children:(0,b.jsx)(i.DialogTitle,{children:"New Offboarding Case"})}),(0,b.jsx)("div",{className:"space-y-4 py-4",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Employee"}),(0,b.jsxs)(j.Select,{value:z,onValueChange:A,children:[(0,b.jsx)(j.SelectTrigger,{className:"w-full",children:(0,b.jsx)(j.SelectValue,{placeholder:"Select employee..."})}),(0,b.jsx)(j.SelectContent,{children:v?.map(a=>(0,b.jsxs)(j.SelectItem,{value:a.employee_id,children:[a.employee_name," (",a.employee_id,")"]},a.employee_id))})]})]})}),(0,b.jsxs)(i.DialogFooter,{children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),(0,b.jsx)(f.Button,{onClick:()=>{z&&w.mutate(z,{onSuccess:()=>{y(!1),A("")}})},disabled:!z||w.isPending,children:w.isPending?(0,b.jsx)(k.Loader2,{className:"h-4 w-4 animate-spin"}):"Create Case"})]})]})})]})}a.s(["default",()=>s],50402)}];

//# sourceMappingURL=src_app_%28app%29_cases_page_tsx_d35a6726._.js.map