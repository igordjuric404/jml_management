module.exports=[91119,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},56095,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(30118),e=a.i(91119),f=a.i(99570),g=a.i(66718),h=a.i(96221),i=a.i(92759),j=a.i(45222),k=a.i(38246);function l(){let[a,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(""),o=(0,c.useRef)(null),p=(0,d.useChatMutation)();return(0,c.useEffect)(()=>{o.current?.scrollIntoView({behavior:"smooth"})},[a]),(0,b.jsxs)("div",{className:"space-y-6 max-w-4xl mx-auto",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"AI Chat"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Ask questions about OGM, cases, findings, and remediation"})]}),(0,b.jsxs)(e.Card,{className:"flex flex-col h-[600px]",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(j.MessageCircle,{className:"h-5 w-5"}),"Chat"]})}),(0,b.jsxs)(e.CardContent,{className:"flex-1 flex flex-col min-h-0 p-0",children:[(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[0===a.length&&(0,b.jsxs)("div",{className:"text-center text-muted-foreground py-12",children:[(0,b.jsx)(j.MessageCircle,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,b.jsx)("p",{children:"Start a conversation. Ask about cases, findings, or remediation."})]}),a.map((a,c)=>(0,b.jsx)("div",{className:`flex ${"user"===a.role?"justify-end":"justify-start"}`,children:(0,b.jsxs)("div",{className:`max-w-[85%] rounded-lg px-4 py-2 ${"user"===a.role?"bg-primary text-primary-foreground":"bg-muted"}`,children:[(0,b.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:a.content}),a.sources&&a.sources.length>0&&(0,b.jsxs)("div",{className:"mt-2 pt-2 border-t border-border/50",children:[(0,b.jsx)("p",{className:"text-xs font-medium mb-1",children:"Sources:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:a.sources.map((a,c)=>(0,b.jsx)(k.default,{href:a.url,className:"text-xs text-primary hover:underline underline-offset-2",children:a.title},c))})]})]})},c)),p.isPending&&(0,b.jsx)("div",{className:"flex justify-start",children:(0,b.jsxs)("div",{className:"bg-muted rounded-lg px-4 py-2 flex items-center gap-2",children:[(0,b.jsx)(h.Loader2,{className:"h-4 w-4 animate-spin"}),(0,b.jsx)("span",{className:"text-sm",children:"Thinking..."})]})}),(0,b.jsx)("div",{ref:o})]}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault();let b=m.trim();b&&!p.isPending&&(n(""),l(a=>[...a,{role:"user",content:b}]),p.mutate(b,{onSuccess:a=>{l(b=>[...b,{role:"assistant",content:a.reply??"",sources:a.sources}])},onError:()=>{l(a=>[...a,{role:"assistant",content:"Sorry, something went wrong. Please try again."}])}}))},className:"flex gap-2 p-4 border-t",children:[(0,b.jsx)(g.Input,{value:m,onChange:a=>n(a.target.value),placeholder:"Ask a question...",disabled:p.isPending,className:"flex-1"}),(0,b.jsx)(f.Button,{type:"submit",disabled:!m.trim()||p.isPending,children:p.isPending?(0,b.jsx)(h.Loader2,{className:"h-4 w-4 animate-spin"}):(0,b.jsx)(i.Send,{className:"h-4 w-4"})})]})]})]})]})}a.s(["default",()=>l])}];

//# sourceMappingURL=src_d850bfc4._.js.map