(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,57428,e=>{"use strict";var a=e.i(43476),t=e.i(78784),n=e.i(71645),i=e.i(20783),r=e.i(30030),s=e.i(81140),l=e.i(69340),o=e.i(99682),c=e.i(35804),d=e.i(96626),u=e.i(48425),h="Checkbox",[m,b]=(0,r.createContextScope)(h),[f,x]=m(h);function _(e){let{__scopeCheckbox:t,checked:i,children:r,defaultChecked:s,disabled:o,form:c,name:d,onCheckedChange:u,required:m,value:b="on",internal_do_not_use_render:x}=e,[_,v]=(0,l.useControllableState)({prop:i,defaultProp:s??!1,onChange:u,caller:h}),[j,p]=n.useState(null),[g,k]=n.useState(null),y=n.useRef(!1),C=!j||!!c||!!j.closest("form"),w={checked:_,disabled:o,setChecked:v,control:j,setControl:p,name:d,form:c,value:b,hasConsumerStoppedPropagationRef:y,required:m,defaultChecked:!N(s)&&s,isFormControl:C,bubbleInput:g,setBubbleInput:k};return(0,a.jsx)(f,{scope:t,...w,children:"function"==typeof x?x(w):r})}var v="CheckboxTrigger",j=n.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...l},o)=>{let{control:c,value:d,disabled:h,checked:m,required:b,setControl:f,setChecked:_,hasConsumerStoppedPropagationRef:j,isFormControl:p,bubbleInput:g}=x(v,e),k=(0,i.useComposedRefs)(o,f),y=n.useRef(m);return n.useEffect(()=>{let e=c?.form;if(e){let a=()=>_(y.current);return e.addEventListener("reset",a),()=>e.removeEventListener("reset",a)}},[c,_]),(0,a.jsx)(u.Primitive.button,{type:"button",role:"checkbox","aria-checked":N(m)?"mixed":m,"aria-required":b,"data-state":w(m),"data-disabled":h?"":void 0,disabled:h,value:d,...l,ref:k,onKeyDown:(0,s.composeEventHandlers)(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,s.composeEventHandlers)(r,e=>{_(e=>!!N(e)||!e),g&&p&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})})});j.displayName=v;var p=n.forwardRef((e,t)=>{let{__scopeCheckbox:n,name:i,checked:r,defaultChecked:s,required:l,disabled:o,value:c,onCheckedChange:d,form:u,...h}=e;return(0,a.jsx)(_,{__scopeCheckbox:n,checked:r,defaultChecked:s,disabled:o,required:l,onCheckedChange:d,name:i,form:u,value:c,internal_do_not_use_render:({isFormControl:e})=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j,{...h,ref:t,__scopeCheckbox:n}),e&&(0,a.jsx)(C,{__scopeCheckbox:n})]})})});p.displayName=h;var g="CheckboxIndicator",k=n.forwardRef((e,t)=>{let{__scopeCheckbox:n,forceMount:i,...r}=e,s=x(g,n);return(0,a.jsx)(d.Presence,{present:i||N(s.checked)||!0===s.checked,children:(0,a.jsx)(u.Primitive.span,{"data-state":w(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t,style:{pointerEvents:"none",...e.style}})})});k.displayName=g;var y="CheckboxBubbleInput",C=n.forwardRef(({__scopeCheckbox:e,...t},r)=>{let{control:s,hasConsumerStoppedPropagationRef:l,checked:d,defaultChecked:h,required:m,disabled:b,name:f,value:_,form:v,bubbleInput:j,setBubbleInput:p}=x(y,e),g=(0,i.useComposedRefs)(r,p),k=(0,o.usePrevious)(d),C=(0,c.useSize)(s);n.useEffect(()=>{if(!j)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,a=!l.current;if(k!==d&&e){let t=new Event("click",{bubbles:a});j.indeterminate=N(d),e.call(j,!N(d)&&d),j.dispatchEvent(t)}},[j,k,d,l]);let w=n.useRef(!N(d)&&d);return(0,a.jsx)(u.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:h??w.current,required:m,disabled:b,name:f,value:_,form:v,...t,tabIndex:-1,ref:g,style:{...t.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function N(e){return"indeterminate"===e}function w(e){return N(e)?"indeterminate":e?"checked":"unchecked"}C.displayName=y,e.s(["Checkbox",()=>p,"CheckboxIndicator",()=>k,"Indicator",()=>k,"Root",()=>p,"createCheckboxScope",()=>b,"unstable_BubbleInput",()=>C,"unstable_CheckboxBubbleInput",()=>C,"unstable_CheckboxProvider",()=>_,"unstable_CheckboxTrigger",()=>j,"unstable_Provider",()=>_,"unstable_Trigger",()=>j],88474);var S=e.i(88474),S=S,E=e.i(75157);function R({className:e,...n}){return(0,a.jsx)(S.Root,{"data-slot":"checkbox",className:(0,E.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:(0,a.jsx)(S.Indicator,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:(0,a.jsx)(t.CheckIcon,{className:"size-3.5"})})})}e.s(["Checkbox",()=>R],57428)},10204,e=>{"use strict";var a=e.i(43476),t=e.i(71645),n=e.i(48425),i=t.forwardRef((e,t)=>(0,a.jsx)(n.Primitive.label,{...e,ref:t,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label",e.s(["Label",()=>i,"Root",()=>i],73741);var r=e.i(73741),r=r,s=e.i(75157);function l({className:e,...t}){return(0,a.jsx)(r.Root,{"data-slot":"label",className:(0,s.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}e.s(["Label",()=>l],10204)},85821,e=>{"use strict";var a=e.i(43476),t=e.i(71645),n=e.i(90472),i=e.i(15288),r=e.i(19455),s=e.i(93479),l=e.i(10204),o=e.i(57428),c=e.i(67489),d=e.i(31278);let u=[{value:"Every 5 Minutes",label:"Every 5 Minutes"},{value:"Every 15 Minutes",label:"Every 15 Minutes"},{value:"Every 30 Minutes",label:"Every 30 Minutes"},{value:"Every Hour",label:"Every Hour"},{value:"Every 6 Hours",label:"Every 6 Hours"},{value:"Daily",label:"Daily"}],h=[{value:"full_bundle",label:"Full Remediation Bundle"},{value:"revoke_tokens",label:"Revoke OAuth Tokens Only"},{value:"delete_asps",label:"Delete ASPs Only"},{value:"sign_out",label:"Sign Out User"}];function m(){let{data:e,isLoading:m}=(0,n.useSettings)(),b=(0,n.useUpdateSettings)(),[f,x]=(0,t.useState)({});(0,t.useEffect)(()=>{e&&x({auto_scan_on_offboard:e.auto_scan_on_offboard,auto_remediate_on_offboard:e.auto_remediate_on_offboard,background_scan_enabled:e.background_scan_enabled,auto_create_case_on_leave:e.auto_create_case_on_leave,background_scan_interval:e.background_scan_interval,remediation_check_interval:e.remediation_check_interval,notify_on_new_findings:e.notify_on_new_findings,notify_on_remediation:e.notify_on_remediation,notification_email:e.notification_email??"",default_remediation_action:e.default_remediation_action})},[e]);let _=(e,a)=>{x(t=>({...t,[e]:a}))},v=(e,a)=>{x(t=>({...t,[e]:a}))};return m?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)(d.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"OGM Settings"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Configure automation, scanning, and remediation behavior"})]}),(0,a.jsxs)(r.Button,{onClick:()=>{b.mutate(f)},disabled:b.isPending,children:[b.isPending?(0,a.jsx)(d.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Save Settings"]})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsx)(i.CardTitle,{className:"text-base",children:"Automation Toggles"})}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(l.Label,{htmlFor:"auto_scan",children:"Auto scan on offboard"}),(0,a.jsx)(o.Checkbox,{id:"auto_scan",checked:f.auto_scan_on_offboard??!1,onCheckedChange:e=>_("auto_scan_on_offboard",!!e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(l.Label,{htmlFor:"auto_remediate",children:"Auto remediate on offboard"}),(0,a.jsx)(o.Checkbox,{id:"auto_remediate",checked:f.auto_remediate_on_offboard??!1,onCheckedChange:e=>_("auto_remediate_on_offboard",!!e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(l.Label,{htmlFor:"background_scan",children:"Background scan enabled"}),(0,a.jsx)(o.Checkbox,{id:"background_scan",checked:f.background_scan_enabled??!1,onCheckedChange:e=>_("background_scan_enabled",!!e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(l.Label,{htmlFor:"auto_create_case",children:"Auto create case on leave"}),(0,a.jsx)(o.Checkbox,{id:"auto_create_case",checked:f.auto_create_case_on_leave??!1,onCheckedChange:e=>_("auto_create_case_on_leave",!!e)})]})]})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsx)(i.CardTitle,{className:"text-base",children:"Scan & Remediation Schedule"})}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{children:"Background scan interval"}),(0,a.jsxs)(c.Select,{value:f.background_scan_interval??"Every Hour",onValueChange:e=>v("background_scan_interval",e),children:[(0,a.jsx)(c.SelectTrigger,{className:"w-[200px]",children:(0,a.jsx)(c.SelectValue,{})}),(0,a.jsx)(c.SelectContent,{children:u.map(e=>(0,a.jsx)(c.SelectItem,{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{children:"Remediation check interval"}),(0,a.jsxs)(c.Select,{value:f.remediation_check_interval??"Every 5 Minutes",onValueChange:e=>v("remediation_check_interval",e),children:[(0,a.jsx)(c.SelectTrigger,{className:"w-[200px]",children:(0,a.jsx)(c.SelectValue,{})}),(0,a.jsx)(c.SelectContent,{children:u.map(e=>(0,a.jsx)(c.SelectItem,{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{children:"Default remediation action"}),(0,a.jsxs)(c.Select,{value:f.default_remediation_action??"full_bundle",onValueChange:e=>v("default_remediation_action",e),children:[(0,a.jsx)(c.SelectTrigger,{className:"w-[250px]",children:(0,a.jsx)(c.SelectValue,{})}),(0,a.jsx)(c.SelectContent,{children:h.map(e=>(0,a.jsx)(c.SelectItem,{value:e.value,children:e.label},e.value))})]})]})]})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsx)(i.CardTitle,{className:"text-base",children:"Notifications"})}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(l.Label,{htmlFor:"notify_findings",children:"Notify on new findings"}),(0,a.jsx)(o.Checkbox,{id:"notify_findings",checked:f.notify_on_new_findings??!1,onCheckedChange:e=>_("notify_on_new_findings",!!e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(l.Label,{htmlFor:"notify_remediation",children:"Notify on remediation"}),(0,a.jsx)(o.Checkbox,{id:"notify_remediation",checked:f.notify_on_remediation??!1,onCheckedChange:e=>_("notify_on_remediation",!!e)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"notification_email",children:"Notification email"}),(0,a.jsx)(s.Input,{id:"notification_email",type:"email",value:f.notification_email??"",onChange:e=>v("notification_email",e.target.value),placeholder:"admin@example.com",className:"max-w-sm"})]})]})]})]})}e.s(["default",()=>m])}]);