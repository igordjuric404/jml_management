(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70756,e=>{"use strict";let a=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>a],70756)},57428,e=>{"use strict";var a=e.i(43476),t=e.i(78784),s=e.i(71645),r=e.i(20783),l=e.i(30030),n=e.i(81140),i=e.i(69340),d=e.i(99682),c=e.i(35804),o=e.i(96626),u=e.i(48425),m="Checkbox",[h,x]=(0,l.createContextScope)(m),[p,b]=h(m);function f(e){let{__scopeCheckbox:t,checked:r,children:l,defaultChecked:n,disabled:d,form:c,name:o,onCheckedChange:u,required:h,value:x="on",internal_do_not_use_render:b}=e,[f,j]=(0,i.useControllableState)({prop:r,defaultProp:n??!1,onChange:u,caller:m}),[v,g]=s.useState(null),[y,C]=s.useState(null),T=s.useRef(!1),k=!v||!!c||!!v.closest("form"),N={checked:f,disabled:d,setChecked:j,control:v,setControl:g,name:o,form:c,value:x,hasConsumerStoppedPropagationRef:T,required:h,defaultChecked:!w(n)&&n,isFormControl:k,bubbleInput:y,setBubbleInput:C};return(0,a.jsx)(p,{scope:t,...N,children:"function"==typeof b?b(N):l})}var j="CheckboxTrigger",v=s.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:l,...i},d)=>{let{control:c,value:o,disabled:m,checked:h,required:x,setControl:p,setChecked:f,hasConsumerStoppedPropagationRef:v,isFormControl:g,bubbleInput:y}=b(j,e),C=(0,r.useComposedRefs)(d,p),T=s.useRef(h);return s.useEffect(()=>{let e=c?.form;if(e){let a=()=>f(T.current);return e.addEventListener("reset",a),()=>e.removeEventListener("reset",a)}},[c,f]),(0,a.jsx)(u.Primitive.button,{type:"button",role:"checkbox","aria-checked":w(h)?"mixed":h,"aria-required":x,"data-state":N(h),"data-disabled":m?"":void 0,disabled:m,value:o,...i,ref:C,onKeyDown:(0,n.composeEventHandlers)(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,n.composeEventHandlers)(l,e=>{f(e=>!!w(e)||!e),y&&g&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})})});v.displayName=j;var g=s.forwardRef((e,t)=>{let{__scopeCheckbox:s,name:r,checked:l,defaultChecked:n,required:i,disabled:d,value:c,onCheckedChange:o,form:u,...m}=e;return(0,a.jsx)(f,{__scopeCheckbox:s,checked:l,defaultChecked:n,disabled:d,required:i,onCheckedChange:o,name:r,form:u,value:c,internal_do_not_use_render:({isFormControl:e})=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v,{...m,ref:t,__scopeCheckbox:s}),e&&(0,a.jsx)(k,{__scopeCheckbox:s})]})})});g.displayName=m;var y="CheckboxIndicator",C=s.forwardRef((e,t)=>{let{__scopeCheckbox:s,forceMount:r,...l}=e,n=b(y,s);return(0,a.jsx)(o.Presence,{present:r||w(n.checked)||!0===n.checked,children:(0,a.jsx)(u.Primitive.span,{"data-state":N(n.checked),"data-disabled":n.disabled?"":void 0,...l,ref:t,style:{pointerEvents:"none",...e.style}})})});C.displayName=y;var T="CheckboxBubbleInput",k=s.forwardRef(({__scopeCheckbox:e,...t},l)=>{let{control:n,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:m,required:h,disabled:x,name:p,value:f,form:j,bubbleInput:v,setBubbleInput:g}=b(T,e),y=(0,r.useComposedRefs)(l,g),C=(0,d.usePrevious)(o),k=(0,c.useSize)(n);s.useEffect(()=>{if(!v)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,a=!i.current;if(C!==o&&e){let t=new Event("click",{bubbles:a});v.indeterminate=w(o),e.call(v,!w(o)&&o),v.dispatchEvent(t)}},[v,C,o,i]);let N=s.useRef(!w(o)&&o);return(0,a.jsx)(u.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??N.current,required:h,disabled:x,name:p,value:f,form:j,...t,tabIndex:-1,ref:y,style:{...t.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function w(e){return"indeterminate"===e}function N(e){return w(e)?"indeterminate":e?"checked":"unchecked"}k.displayName=T,e.s(["Checkbox",()=>g,"CheckboxIndicator",()=>C,"Indicator",()=>C,"Root",()=>g,"createCheckboxScope",()=>x,"unstable_BubbleInput",()=>k,"unstable_CheckboxBubbleInput",()=>k,"unstable_CheckboxProvider",()=>f,"unstable_CheckboxTrigger",()=>v,"unstable_Provider",()=>f,"unstable_Trigger",()=>v],88474);var _=e.i(88474),_=_,S=e.i(75157);function R({className:e,...s}){return(0,a.jsx)(_.Root,{"data-slot":"checkbox",className:(0,S.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:(0,a.jsx)(_.Indicator,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:(0,a.jsx)(t.CheckIcon,{className:"size-3.5"})})})}e.s(["Checkbox",()=>R],57428)},15288,e=>{"use strict";var a=e.i(43476),t=e.i(75157);function s({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function r({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function l({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",e),...s})}function n({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",e),...s})}function i({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>i,"CardDescription",()=>n,"CardHeader",()=>r,"CardTitle",()=>l])},87486,e=>{"use strict";var a=e.i(43476),t=e.i(25913),s=e.i(86011),r=e.i(75157);let l=(0,t.cva)("inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline"}},defaultVariants:{variant:"default"}});function n({className:e,variant:t="default",asChild:n=!1,...i}){let d=n?s.Slot.Root:"span";return(0,a.jsx)(d,{"data-slot":"badge","data-variant":t,className:(0,r.cn)(l({variant:t}),e),...i})}e.s(["Badge",()=>n])},84774,e=>{"use strict";var a=e.i(43476),t=e.i(75157);function s({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:(0,t.cn)("w-full caption-bottom text-sm",e),...s})})}function r({className:e,...s}){return(0,a.jsx)("thead",{"data-slot":"table-header",className:(0,t.cn)("[&_tr]:border-b",e),...s})}function l({className:e,...s}){return(0,a.jsx)("tbody",{"data-slot":"table-body",className:(0,t.cn)("[&_tr:last-child]:border-0",e),...s})}function n({className:e,...s}){return(0,a.jsx)("tr",{"data-slot":"table-row",className:(0,t.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...s})}function i({className:e,...s}){return(0,a.jsx)("th",{"data-slot":"table-head",className:(0,t.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}function d({className:e,...s}){return(0,a.jsx)("td",{"data-slot":"table-cell",className:(0,t.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}e.s(["Table",()=>s,"TableBody",()=>l,"TableCell",()=>d,"TableHead",()=>i,"TableHeader",()=>r,"TableRow",()=>n])},99682,e=>{"use strict";var a=e.i(71645);function t(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}e.s(["usePrevious",()=>t])},31171,e=>{"use strict";let a=(0,e.i(75254).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["default",()=>a])},92374,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(75254);let r=(0,s.default)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),l=(0,s.default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),n=(0,s.default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);var i=e.i(84774);function d({column:e,label:t,sortConfig:s,onSort:d,className:c}){let o=s.column===e;return(0,a.jsx)(i.TableHead,{className:`cursor-pointer select-none hover:bg-accent/50 ${c??""}`,onClick:()=>d(e),children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{children:t}),o&&"asc"===s.direction?(0,a.jsx)(l,{className:"h-3.5 w-3.5 text-foreground"}):o&&"desc"===s.direction?(0,a.jsx)(n,{className:"h-3.5 w-3.5 text-foreground"}):(0,a.jsx)(r,{className:"h-3.5 w-3.5 text-muted-foreground/50"})]})})}function c(e=""){let[a,s]=(0,t.useState)({column:e,direction:null});return{sortConfig:a,onSort:e=>{s(a=>a.column!==e?{column:e,direction:"asc"}:"asc"===a.direction?{column:e,direction:"desc"}:"desc"===a.direction?{column:"",direction:null}:{column:e,direction:"asc"})},sortData:function(e){return a.column&&a.direction?[...e].sort((e,t)=>{let s=e[a.column],r=t[a.column];if(null==s&&null==r)return 0;if(null==s)return 1;if(null==r)return -1;let l=0;return l="string"==typeof s&&"string"==typeof r?s.localeCompare(r):"number"==typeof s&&"number"==typeof r?s-r:String(s).localeCompare(String(r)),"desc"===a.direction?-l:l}):e}}}e.s(["SortableTableHead",()=>d,"useSort",()=>c],92374)},71689,e=>{"use strict";let a=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>a],71689)},64659,e=>{"use strict";var a=e.i(31171);e.s(["ChevronDown",()=>a.default])},75554,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(18566),r=e.i(90472),l=e.i(15288),n=e.i(19455),i=e.i(87486),d=e.i(84774),c=e.i(55146),o=e.i(57428),u=e.i(31278),m=e.i(71689),h=e.i(98919),x=e.i(70756);let p=(0,e.i(75254).default)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);var b=e.i(64659),f=e.i(84614),j=e.i(22016),v=e.i(46200),g=e.i(92374);function y(){let e=(0,s.useRouter)(),{sortConfig:y,onSort:C,sortData:T}=(0,g.useSort)(),k=(0,s.useSearchParams)(),w=k.get("employee"),N=k.get("email"),{data:_,isLoading:S}=(0,r.useEmployees)(),R=(0,t.useMemo)(()=>{if(w)return w;if(N&&_){let e=_.find(e=>e.company_email?.toLowerCase()===N.toLowerCase());return e?.employee_id??null}return null},[w,N,_]),{data:H,isLoading:A}=(0,r.useEmployeeDetail)(R??""),B=(0,r.useRevokeEmployeeAccess)(R??""),[E,I]=(0,t.useState)(new Set),D=!!R&&(A||H);return S&&!D?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)(u.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):D&&H?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(j.default,{href:"/employees",children:(0,a.jsxs)(n.Button,{variant:"outline",size:"sm",children:[(0,a.jsx)(m.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Back to Employees"]})}),(0,a.jsxs)(n.Button,{variant:"destructive",onClick:()=>{(0,v.confirmAction)({title:"Revoke All Access",description:`Revoke all access for ${H.employee.name}? This will remediate all cases and close all findings. This action cannot be undone.`,confirmLabel:"Revoke All Access",onConfirm:()=>B.mutate("all")})},disabled:B.isPending,children:[B.isPending?(0,a.jsx)(u.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(h.Shield,{className:"mr-2 h-4 w-4"}),"Revoke All Access"]})]}),(0,a.jsxs)(l.Card,{children:[(0,a.jsx)(l.CardHeader,{children:(0,a.jsx)(l.CardTitle,{className:"text-base",children:"Employee Info"})}),(0,a.jsx)(l.CardContent,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Name"}),(0,a.jsx)("p",{className:"font-medium",children:H.employee.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Email"}),(0,a.jsx)("p",{children:(0,a.jsx)(j.default,{href:`/employees?email=${encodeURIComponent(H.employee.email)}`,className:"text-primary hover:underline",children:H.employee.email})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Status"}),(0,a.jsx)("p",{children:(0,a.jsx)(i.Badge,{variant:"Active"===H.employee.status?"default":"destructive",className:"Active"===H.employee.status?"bg-green-600 text-white":void 0,children:H.employee.status})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Department"}),(0,a.jsx)("p",{children:H.employee.department||"-"})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(l.Card,{children:(0,a.jsxs)(l.CardContent,{className:"pt-6",children:[(0,a.jsx)("p",{className:"text-2xl font-bold",children:H.summary.total_cases}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Cases"})]})}),(0,a.jsx)(l.Card,{children:(0,a.jsxs)(l.CardContent,{className:"pt-6",children:[(0,a.jsx)("p",{className:"text-2xl font-bold",children:H.summary.active_artifacts}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Active Artifacts"})]})}),(0,a.jsx)(l.Card,{children:(0,a.jsxs)(l.CardContent,{className:"pt-6",children:[(0,a.jsx)("p",{className:"text-2xl font-bold",children:H.summary.open_findings}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Open Findings"})]})}),(0,a.jsx)(l.Card,{children:(0,a.jsxs)(l.CardContent,{className:"pt-6",children:[(0,a.jsx)("p",{className:"text-2xl font-bold",children:H.summary.apps_used}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Apps Used"})]})})]}),(H.cases?.length??0)>0&&(0,a.jsxs)(l.Card,{children:[(0,a.jsx)(l.CardHeader,{children:(0,a.jsx)(l.CardTitle,{className:"text-base",children:"Associated Cases"})}),(0,a.jsx)(l.CardContent,{children:(0,a.jsxs)(d.Table,{children:[(0,a.jsx)(d.TableHeader,{children:(0,a.jsxs)(d.TableRow,{children:[(0,a.jsx)(d.TableHead,{children:"Case"}),(0,a.jsx)(d.TableHead,{children:"Status"}),(0,a.jsx)(d.TableHead,{children:"Effective Date"})]})}),(0,a.jsx)(d.TableBody,{children:H.cases?.map(e=>(0,a.jsxs)(d.TableRow,{children:[(0,a.jsx)(d.TableCell,{children:(0,a.jsx)(j.default,{href:`/cases/${e.name}`,className:"text-primary hover:underline font-medium",children:e.name})}),(0,a.jsx)(d.TableCell,{children:(0,a.jsx)(i.Badge,{variant:"secondary",children:e.status})}),(0,a.jsx)(d.TableCell,{children:e.effective_date?new Date(e.effective_date).toLocaleDateString():"-"})]},e.name))})]})})]}),(H.findings?.length??0)>0&&(0,a.jsxs)(l.Card,{children:[(0,a.jsx)(l.CardHeader,{children:(0,a.jsx)(l.CardTitle,{className:"text-base",children:"Findings"})}),(0,a.jsx)(l.CardContent,{children:(0,a.jsxs)(d.Table,{children:[(0,a.jsx)(d.TableHeader,{children:(0,a.jsxs)(d.TableRow,{children:[(0,a.jsx)(d.TableHead,{children:"Name"}),(0,a.jsx)(d.TableHead,{children:"Type"}),(0,a.jsx)(d.TableHead,{children:"Severity"}),(0,a.jsx)(d.TableHead,{children:"Status"}),(0,a.jsx)(d.TableHead,{children:"Summary"})]})}),(0,a.jsx)(d.TableBody,{children:H.findings?.map(e=>(0,a.jsxs)(d.TableRow,{children:[(0,a.jsx)(d.TableCell,{children:(0,a.jsx)(j.default,{href:`/findings?finding=${encodeURIComponent(e.name)}`,className:"text-primary hover:underline font-medium",children:e.name})}),(0,a.jsx)(d.TableCell,{children:e.finding_type}),(0,a.jsx)(d.TableCell,{children:(0,a.jsx)(i.Badge,{variant:"destructive",children:e.severity})}),(0,a.jsx)(d.TableCell,{children:(0,a.jsx)(i.Badge,{variant:e.closed_at?"secondary":"default",children:e.closed_at?"Closed":"Open"})}),(0,a.jsx)(d.TableCell,{className:"max-w-xs truncate",children:e.summary})]},e.name))})]})})]}),(H.artifacts?.length??0)>0&&(0,a.jsxs)(l.Card,{children:[(0,a.jsx)(l.CardHeader,{children:(0,a.jsx)(l.CardTitle,{className:"text-base",children:"Access Artifacts"})}),(0,a.jsx)(l.CardContent,{children:(0,a.jsxs)(d.Table,{children:[(0,a.jsx)(d.TableHeader,{children:(0,a.jsxs)(d.TableRow,{children:[(0,a.jsx)(d.TableHead,{children:"Name"}),(0,a.jsx)(d.TableHead,{children:"Type"}),(0,a.jsx)(d.TableHead,{children:"App"}),(0,a.jsx)(d.TableHead,{children:"Status"}),(0,a.jsx)(d.TableHead,{children:"Risk"})]})}),(0,a.jsx)(d.TableBody,{children:H.artifacts?.map(e=>(0,a.jsxs)(d.TableRow,{children:[(0,a.jsx)(d.TableCell,{children:(0,a.jsx)(j.default,{href:`/artifacts?artifact=${encodeURIComponent(e.name)}`,className:"text-primary hover:underline font-medium",children:e.name})}),(0,a.jsx)(d.TableCell,{children:e.artifact_type}),(0,a.jsx)(d.TableCell,{children:e.app_display_name||"-"}),(0,a.jsx)(d.TableCell,{children:(0,a.jsx)(i.Badge,{variant:"Active"===e.status?"destructive":"secondary",children:e.status})}),(0,a.jsx)(d.TableCell,{children:e.risk_level?(0,a.jsx)(i.Badge,{variant:"Critical"===e.risk_level||"High"===e.risk_level?"destructive":"default",children:e.risk_level}):"-"})]},e.name))})]})})]}),(H.apps?.length??0)>0&&(0,a.jsxs)(l.Card,{children:[(0,a.jsx)(l.CardHeader,{children:(0,a.jsx)(l.CardTitle,{className:"text-base",children:"Applications"})}),(0,a.jsx)(l.CardContent,{children:(0,a.jsxs)(d.Table,{children:[(0,a.jsx)(d.TableHeader,{children:(0,a.jsxs)(d.TableRow,{children:[(0,a.jsx)(d.TableHead,{children:"App"}),(0,a.jsx)(d.TableHead,{children:"Client ID"}),(0,a.jsx)(d.TableHead,{children:"Status"}),(0,a.jsx)(d.TableHead,{children:"Risk"})]})}),(0,a.jsx)(d.TableBody,{children:H.apps?.map(e=>(0,a.jsxs)(d.TableRow,{children:[(0,a.jsx)(d.TableCell,{children:(0,a.jsx)(j.default,{href:`/apps?client_id=${encodeURIComponent(e.client_id)}`,className:"text-primary hover:underline",children:e.app_name})}),(0,a.jsx)(d.TableCell,{children:(0,a.jsx)("code",{className:"text-xs",children:e.client_id})}),(0,a.jsx)(d.TableCell,{children:(0,a.jsx)(i.Badge,{variant:"secondary",children:e.status})}),(0,a.jsx)(d.TableCell,{children:e.risk_level?(0,a.jsx)(i.Badge,{variant:"destructive",children:e.risk_level}):"-"})]},e.artifact_name))})]})})]})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Employee Access Overview"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"View and manage employee access across cases and apps"})]}),(0,a.jsxs)(c.DropdownMenu,{children:[(0,a.jsx)(c.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsxs)(n.Button,{variant:"outline",disabled:0===E.size,children:[(0,a.jsx)(b.ChevronDown,{className:"mr-2 h-4 w-4"}),"Bulk Revoke (",E.size,")"]})}),(0,a.jsxs)(c.DropdownMenuContent,{children:[(0,a.jsxs)(c.DropdownMenuItem,{onClick:()=>{(0,v.confirmAction)({title:"Revoke All Access",description:`This will revoke all access for ${E.size} selected employee(s). Please use the employee detail view for per-employee control.`,confirmLabel:"Revoke All",onConfirm:()=>{E.forEach(()=>{B.mutate("all")}),I(new Set)}})},children:[(0,a.jsx)(h.Shield,{className:"mr-2 h-4 w-4"}),"Revoke All"]}),(0,a.jsxs)(c.DropdownMenuItem,{children:[(0,a.jsx)(x.Lock,{className:"mr-2 h-4 w-4"}),"Revoke Tokens"]}),(0,a.jsxs)(c.DropdownMenuItem,{children:[(0,a.jsx)(p,{className:"mr-2 h-4 w-4"}),"Delete ASPs"]})]})]})]}),(0,a.jsxs)(l.Card,{children:[(0,a.jsx)(l.CardHeader,{children:(0,a.jsx)(l.CardTitle,{className:"text-base",children:"Employees"})}),(0,a.jsx)(l.CardContent,{children:(0,a.jsxs)(d.Table,{children:[(0,a.jsx)(d.TableHeader,{children:(0,a.jsxs)(d.TableRow,{children:[(0,a.jsx)(d.TableHead,{className:"w-10",children:(0,a.jsx)(o.Checkbox,{checked:_&&_.length>0&&_.every(e=>E.has(e.employee_id)),onCheckedChange:()=>{_&&(E.size===_.length?I(new Set):I(new Set(_.map(e=>e.employee_id))))}})}),(0,a.jsx)(g.SortableTableHead,{column:"employee_name",label:"Employee",sortConfig:y,onSort:C}),(0,a.jsx)(g.SortableTableHead,{column:"company_email",label:"Email",sortConfig:y,onSort:C}),(0,a.jsx)(g.SortableTableHead,{column:"emp_status",label:"Status",sortConfig:y,onSort:C}),(0,a.jsx)(g.SortableTableHead,{column:"case_count",label:"Cases",sortConfig:y,onSort:C}),(0,a.jsx)(g.SortableTableHead,{column:"active_artifacts",label:"Active Artifacts",sortConfig:y,onSort:C}),(0,a.jsx)(g.SortableTableHead,{column:"open_findings",label:"Open Findings",sortConfig:y,onSort:C}),(0,a.jsx)(d.TableHead,{})]})}),(0,a.jsx)(d.TableBody,{children:(_?T(_):[]).map(t=>(0,a.jsxs)(d.TableRow,{className:"cursor-pointer",onClick:()=>e.push(`/employees?employee=${encodeURIComponent(t.employee_id)}`),children:[(0,a.jsx)(d.TableCell,{onClick:e=>e.stopPropagation(),children:(0,a.jsx)(o.Checkbox,{checked:E.has(t.employee_id),onCheckedChange:()=>{var e;return e=t.employee_id,void I(a=>{let t=new Set(a);return t.has(e)?t.delete(e):t.add(e),t})}})}),(0,a.jsx)(d.TableCell,{className:"font-medium",children:(0,a.jsx)(j.default,{href:`/employees?employee=${encodeURIComponent(t.employee_id)}`,className:"text-primary hover:underline",children:t.employee_name})}),(0,a.jsx)(d.TableCell,{children:(0,a.jsx)(j.default,{href:`/employees?email=${encodeURIComponent(t.company_email)}`,className:"text-primary hover:underline",children:t.company_email})}),(0,a.jsx)(d.TableCell,{children:(0,a.jsx)(i.Badge,{variant:"Active"===t.emp_status?"default":"destructive",className:"Active"===t.emp_status?"bg-green-600 text-white":void 0,children:t.emp_status})}),(0,a.jsx)(d.TableCell,{children:t.case_count??0}),(0,a.jsx)(d.TableCell,{children:t.active_artifacts??0}),(0,a.jsx)(d.TableCell,{children:t.open_findings??0}),(0,a.jsx)(d.TableCell,{children:(0,a.jsx)(j.default,{href:`/employees?employee=${encodeURIComponent(t.employee_id)}`,children:(0,a.jsxs)(n.Button,{variant:"outline",size:"sm",children:[(0,a.jsx)(f.User,{className:"mr-2 h-4 w-4"}),"Details"]})})})]},t.employee_id))})]})})]})]})}function C(){return(0,a.jsx)(t.Suspense,{fallback:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)(u.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})}),children:(0,a.jsx)(y,{})})}e.s(["default",()=>C],75554)}]);