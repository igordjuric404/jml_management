(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,57428,e=>{"use strict";var a=e.i(43476),t=e.i(78784),n=e.i(71645),i=e.i(20783),r=e.i(30030),s=e.i(81140),o=e.i(69340),l=e.i(99682),c=e.i(35804),d=e.i(96626),u=e.i(48425),h="Checkbox",[f,b]=(0,r.createContextScope)(h),[m,x]=f(h);function _(e){let{__scopeCheckbox:t,checked:i,children:r,defaultChecked:s,disabled:l,form:c,name:d,onCheckedChange:u,required:f,value:b="on",internal_do_not_use_render:x}=e,[_,v]=(0,o.useControllableState)({prop:i,defaultProp:s??!1,onChange:u,caller:h}),[p,g]=n.useState(null),[j,k]=n.useState(null),y=n.useRef(!1),C=!p||!!c||!!p.closest("form"),w={checked:_,disabled:l,setChecked:v,control:p,setControl:g,name:d,form:c,value:b,hasConsumerStoppedPropagationRef:y,required:f,defaultChecked:!N(s)&&s,isFormControl:C,bubbleInput:j,setBubbleInput:k};return(0,a.jsx)(m,{scope:t,...w,children:"function"==typeof x?x(w):r})}var v="CheckboxTrigger",p=n.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...o},l)=>{let{control:c,value:d,disabled:h,checked:f,required:b,setControl:m,setChecked:_,hasConsumerStoppedPropagationRef:p,isFormControl:g,bubbleInput:j}=x(v,e),k=(0,i.useComposedRefs)(l,m),y=n.useRef(f);return n.useEffect(()=>{let e=c?.form;if(e){let a=()=>_(y.current);return e.addEventListener("reset",a),()=>e.removeEventListener("reset",a)}},[c,_]),(0,a.jsx)(u.Primitive.button,{type:"button",role:"checkbox","aria-checked":N(f)?"mixed":f,"aria-required":b,"data-state":w(f),"data-disabled":h?"":void 0,disabled:h,value:d,...o,ref:k,onKeyDown:(0,s.composeEventHandlers)(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,s.composeEventHandlers)(r,e=>{_(e=>!!N(e)||!e),j&&g&&(p.current=e.isPropagationStopped(),p.current||e.stopPropagation())})})});p.displayName=v;var g=n.forwardRef((e,t)=>{let{__scopeCheckbox:n,name:i,checked:r,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=e;return(0,a.jsx)(_,{__scopeCheckbox:n,checked:r,defaultChecked:s,disabled:l,required:o,onCheckedChange:d,name:i,form:u,value:c,internal_do_not_use_render:({isFormControl:e})=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p,{...h,ref:t,__scopeCheckbox:n}),e&&(0,a.jsx)(C,{__scopeCheckbox:n})]})})});g.displayName=h;var j="CheckboxIndicator",k=n.forwardRef((e,t)=>{let{__scopeCheckbox:n,forceMount:i,...r}=e,s=x(j,n);return(0,a.jsx)(d.Presence,{present:i||N(s.checked)||!0===s.checked,children:(0,a.jsx)(u.Primitive.span,{"data-state":w(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t,style:{pointerEvents:"none",...e.style}})})});k.displayName=j;var y="CheckboxBubbleInput",C=n.forwardRef(({__scopeCheckbox:e,...t},r)=>{let{control:s,hasConsumerStoppedPropagationRef:o,checked:d,defaultChecked:h,required:f,disabled:b,name:m,value:_,form:v,bubbleInput:p,setBubbleInput:g}=x(y,e),j=(0,i.useComposedRefs)(r,g),k=(0,l.usePrevious)(d),C=(0,c.useSize)(s);n.useEffect(()=>{if(!p)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,a=!o.current;if(k!==d&&e){let t=new Event("click",{bubbles:a});p.indeterminate=N(d),e.call(p,!N(d)&&d),p.dispatchEvent(t)}},[p,k,d,o]);let w=n.useRef(!N(d)&&d);return(0,a.jsx)(u.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:h??w.current,required:f,disabled:b,name:m,value:_,form:v,...t,tabIndex:-1,ref:j,style:{...t.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function N(e){return"indeterminate"===e}function w(e){return N(e)?"indeterminate":e?"checked":"unchecked"}C.displayName=y,e.s(["Checkbox",()=>g,"CheckboxIndicator",()=>k,"Indicator",()=>k,"Root",()=>g,"createCheckboxScope",()=>b,"unstable_BubbleInput",()=>C,"unstable_CheckboxBubbleInput",()=>C,"unstable_CheckboxProvider",()=>_,"unstable_CheckboxTrigger",()=>p,"unstable_Provider",()=>_,"unstable_Trigger",()=>p],88474);var S=e.i(88474),S=S,R=e.i(75157);function L({className:e,...n}){return(0,a.jsx)(S.Root,{"data-slot":"checkbox",className:(0,R.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:(0,a.jsx)(S.Indicator,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:(0,a.jsx)(t.CheckIcon,{className:"size-3.5"})})})}e.s(["Checkbox",()=>L],57428)},93479,e=>{"use strict";var a=e.i(43476),t=e.i(75157);function n({className:e,type:n,...i}){return(0,a.jsx)("input",{type:n,"data-slot":"input",className:(0,t.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...i})}e.s(["Input",()=>n])},10204,e=>{"use strict";var a=e.i(43476),t=e.i(71645),n=e.i(48425),i=t.forwardRef((e,t)=>(0,a.jsx)(n.Primitive.label,{...e,ref:t,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label",e.s(["Label",()=>i,"Root",()=>i],73741);var r=e.i(73741),r=r,s=e.i(75157);function o({className:e,...t}){return(0,a.jsx)(r.Root,{"data-slot":"label",className:(0,s.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}e.s(["Label",()=>o],10204)},85821,e=>{"use strict";var a=e.i(43476),t=e.i(71645),n=e.i(90472),i=e.i(15288),r=e.i(19455),s=e.i(93479),o=e.i(10204),l=e.i(57428),c=e.i(67489),d=e.i(31278);let u=[{value:"hourly",label:"Hourly"},{value:"every_6_hours",label:"Every 6 hours"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"}],h=[{value:"full_bundle",label:"Full Remediation Bundle"},{value:"revoke_tokens",label:"Revoke OAuth Tokens Only"},{value:"delete_asps",label:"Delete ASPs Only"},{value:"sign_out",label:"Sign Out User"}];function f(){let{data:e,isLoading:f}=(0,n.useSettings)(),b=(0,n.useUpdateSettings)(),[m,x]=(0,t.useState)({});(0,t.useEffect)(()=>{e&&x({auto_scan_on_offboard:e.auto_scan_on_offboard,auto_remediate_on_offboard:e.auto_remediate_on_offboard,background_scan_enabled:e.background_scan_enabled,auto_create_case_on_leave:e.auto_create_case_on_leave,background_scan_interval:e.background_scan_interval,remediation_check_interval:e.remediation_check_interval,notify_on_new_findings:e.notify_on_new_findings,notify_on_remediation:e.notify_on_remediation,notification_email:e.notification_email??"",default_remediation_action:e.default_remediation_action})},[e]);let _=(e,a)=>{x(t=>({...t,[e]:a}))},v=(e,a)=>{x(t=>({...t,[e]:a}))};return f?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)(d.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"OGM Settings"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Configure automation, scanning, and remediation behavior"})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsx)(i.CardTitle,{className:"text-base",children:"Automation Toggles"})}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(o.Label,{htmlFor:"auto_scan",children:"Auto scan on offboard"}),(0,a.jsx)(l.Checkbox,{id:"auto_scan",checked:m.auto_scan_on_offboard??!1,onCheckedChange:e=>_("auto_scan_on_offboard",!!e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(o.Label,{htmlFor:"auto_remediate",children:"Auto remediate on offboard"}),(0,a.jsx)(l.Checkbox,{id:"auto_remediate",checked:m.auto_remediate_on_offboard??!1,onCheckedChange:e=>_("auto_remediate_on_offboard",!!e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(o.Label,{htmlFor:"background_scan",children:"Background scan enabled"}),(0,a.jsx)(l.Checkbox,{id:"background_scan",checked:m.background_scan_enabled??!1,onCheckedChange:e=>_("background_scan_enabled",!!e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(o.Label,{htmlFor:"auto_create_case",children:"Auto create case on leave"}),(0,a.jsx)(l.Checkbox,{id:"auto_create_case",checked:m.auto_create_case_on_leave??!1,onCheckedChange:e=>_("auto_create_case_on_leave",!!e)})]})]})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsx)(i.CardTitle,{className:"text-base",children:"Scan & Remediation Schedule"})}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.Label,{children:"Background scan interval"}),(0,a.jsxs)(c.Select,{value:m.background_scan_interval??"hourly",onValueChange:e=>v("background_scan_interval",e),children:[(0,a.jsx)(c.SelectTrigger,{className:"w-[200px]",children:(0,a.jsx)(c.SelectValue,{})}),(0,a.jsx)(c.SelectContent,{children:u.map(e=>(0,a.jsx)(c.SelectItem,{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.Label,{children:"Remediation check interval"}),(0,a.jsxs)(c.Select,{value:m.remediation_check_interval??"hourly",onValueChange:e=>v("remediation_check_interval",e),children:[(0,a.jsx)(c.SelectTrigger,{className:"w-[200px]",children:(0,a.jsx)(c.SelectValue,{})}),(0,a.jsx)(c.SelectContent,{children:u.map(e=>(0,a.jsx)(c.SelectItem,{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.Label,{children:"Default remediation action"}),(0,a.jsxs)(c.Select,{value:m.default_remediation_action??"full_bundle",onValueChange:e=>v("default_remediation_action",e),children:[(0,a.jsx)(c.SelectTrigger,{className:"w-[250px]",children:(0,a.jsx)(c.SelectValue,{})}),(0,a.jsx)(c.SelectContent,{children:h.map(e=>(0,a.jsx)(c.SelectItem,{value:e.value,children:e.label},e.value))})]})]})]})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsx)(i.CardTitle,{className:"text-base",children:"Notifications"})}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(o.Label,{htmlFor:"notify_findings",children:"Notify on new findings"}),(0,a.jsx)(l.Checkbox,{id:"notify_findings",checked:m.notify_on_new_findings??!1,onCheckedChange:e=>_("notify_on_new_findings",!!e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(o.Label,{htmlFor:"notify_remediation",children:"Notify on remediation"}),(0,a.jsx)(l.Checkbox,{id:"notify_remediation",checked:m.notify_on_remediation??!1,onCheckedChange:e=>_("notify_on_remediation",!!e)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.Label,{htmlFor:"notification_email",children:"Notification email"}),(0,a.jsx)(s.Input,{id:"notification_email",type:"email",value:m.notification_email??"",onChange:e=>v("notification_email",e.target.value),placeholder:"admin@example.com",className:"max-w-sm"})]})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)(r.Button,{onClick:()=>{b.mutate(m)},disabled:b.isPending,children:[b.isPending?(0,a.jsx)(d.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Save"]})})]})}e.s(["default",()=>f])}]);